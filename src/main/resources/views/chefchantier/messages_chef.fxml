<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import java.net.URL?>

<HBox xmlns="http://javafx.com/javafx/25"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.myapp.controller.MessagesChefController"
      spacing="25"
      styleClass="messages-root">

    <stylesheets>
        <URL value="@chef_chantier.css"/>
    </stylesheets>

    <!-- ================= LEFT : CONVERSATIONS ================= -->
    <VBox spacing="14"
          prefWidth="240"
          styleClass="messages-left"
          VBox.vgrow="ALWAYS">

        <Label text="Messages"
               styleClass="messages-title"/>

        <VBox spacing="6">
            <Label fx:id="secretaireItem"
                   text="SecrÃ©taire"
                   onMouseClicked="#selectSecretaire"
                   styleClass="messages-user-item"/>

            <Label fx:id="directeurItem"
                   text="Directeur"
                   onMouseClicked="#selectDirecteur"
                   styleClass="messages-user-item"/>

            <Label fx:id="clientItem"
                   text="Client"
                   onMouseClicked="#selectClient"
                   styleClass="messages-user-item"/>
        </VBox>
    </VBox>

    <!-- ================= CENTER : CHAT ================= -->
    <VBox spacing="15"
          HBox.hgrow="ALWAYS"
          styleClass="messages-center">

        <!-- HEADER -->
        <VBox spacing="2"
              styleClass="messages-header">

            <Label fx:id="contactNameLabel"
                   text="SecrÃ©taire"
                   styleClass="messages-header-name"/>

            <Label fx:id="contactStatusLabel"
                   text="En ligne"
                   styleClass="messages-header-status"/>
        </VBox>

        <!-- MESSAGES -->
        <ScrollPane fx:id="messagesScroll"
                    fitToWidth="true"
                    VBox.vgrow="ALWAYS"
                    styleClass="messages-scroll">

            <content>
                <VBox fx:id="messagesContainer"
                      spacing="14"
                      styleClass="messages-thread">

                    <!-- placeholder -->
                    <HBox fx:id="emptyPlaceholder"
                          alignment="CENTER"
                          VBox.vgrow="ALWAYS">
                        <Label text="Aucun message ici. Commencez la conversation."
                               styleClass="messages-empty"/>
                    </HBox>

                </VBox>
            </content>
        </ScrollPane>

        <!-- INPUT BAR -->
        <HBox spacing="12"
              alignment="CENTER_LEFT"
              styleClass="messages-input-bar">

            <!-- attach -->
            <Button text="ðŸ“Ž"
                    onAction="#attachFile"
                    styleClass="chat-attach-btn"/>

            <!-- pill -->
            <HBox HBox.hgrow="ALWAYS"
                  alignment="CENTER_LEFT"
                  styleClass="chat-pill">

                <TextField fx:id="messageField"
                           promptText="Envoyer un message..."
                           HBox.hgrow="ALWAYS"
                           styleClass="chat-pill-input"/>
            </HBox>

            <!-- send -->
            <Button text="âž¤"
                    onAction="#sendMessage"
                    styleClass="chat-pill-send"/>
        </HBox>

    </VBox>

</HBox>

